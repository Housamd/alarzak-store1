'use client';import { create } from 'zustand';export type CartItem={sku:string,name:string,qty:number};type S={items:CartItem[],add:(i:CartItem)=>void,setQty:(sku:string,qty:number)=>void,clear:()=>void};export const useCart=create<S>((set,get)=>({items:[],add:(i)=>{const e=get().items.find(x=>x.sku===i.sku);if(e)set({items:get().items.map(x=>x.sku===i.sku?{...x,qty:x.qty+i.qty}:x)});else set({items:[...get().items,i]})},setQty:(sku,qty)=>set({items:get().items.map(x=>x.sku===sku?{...x,qty}:x)}),clear:()=>set({items:[]})}));
